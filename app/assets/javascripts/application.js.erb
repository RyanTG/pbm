//= require jquery
//= require jquery_ujs
//= require jquery-ui

var map;
var region;
var ismap;
var searchMachineIDString;
var numMachinesVal;
var locationTypeVal;
var single_id;
var mapAdjusted = 0;
var search_string;
var zoomLevel;
var markers = new Array();
var locationIDs = new Array();
var searchSections = new Array();
const REDO_TIMEOUT = 1800;

function toggleData(name, id) {
  var main = id ? '_' + id : '';

  $('#' + name + main).toggle();
}

function clearInfoWindows() {
  if (markers) {
    for (i in markers) {
      markers[i].getPopup().remove();
    }
  }
}

function clearMarkers() {
  if (markers) {
    for (i in markers) {
      markers[i].remove();
    }
  }
}

function clearClosest() {
  $(".mask").hide();
}

function showLocations(ids, lats, lons, contents, num_machines, latLng) {
  clearMarkers();
  clearInfoWindows();
  clearClosest();
  markers = new Array();

  locationIDs = ids;

  let protocol = new pmtiles.Protocol({metadata: true});
  maplibregl.addProtocol("pmtiles", protocol.tile);

  var bounds = new maplibregl.LngLatBounds();

  if (mapAdjusted === 0) {
    map = new maplibregl.Map({
      container: 'map_canvas',
      style: {
        version: 8,
        glyphs: "https://pub-fe10a13739ae4e549ecc1f5d016284cb.r2.dev/fonts/{fontstack}/{range}.pbf",
        sprite: "https://pub-fe10a13739ae4e549ecc1f5d016284cb.r2.dev/sprites/v3/light",
        sources: {
          protomaps: {
            type: "vector",
            url: "pmtiles://https://pub-fe10a13739ae4e549ecc1f5d016284cb.r2.dev/20240923.pmtiles"
          }
        },
        "layers": [
        {
            "id": "background",
            "type": "background",
            "paint": {
                "background-color": "#cccccc"
            }
        },
        {
            "id": "earth",
            "type": "fill",
            "filter": [
                "==",
                [
                    "geometry-type"
                ],
                "Polygon"
            ],
            "source": "protomaps",
            "source-layer": "earth",
            "paint": {
                "fill-color": "#e0e0e0"
            }
        },
        {
            "id": "landuse_park",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "national_park",
                    "park",
                    "cemetery",
                    "protected_area",
                    "nature_reserve",
                    "forest",
                    "golf_course"
                ]
            ],
            "paint": {
                "fill-color": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    0,
                    "#cfddd5",
                    12,
                    "#9cd3b4"
                ]
            }
        },
        {
            "id": "landuse_urban_green",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "allotments",
                    "village_green",
                    "playground"
                ]
            ],
            "paint": {
                "fill-color": "#9cd3b4",
                "fill-opacity": 0.7
            }
        },
        {
            "id": "landuse_hospital",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "hospital"
                ]
            ],
            "paint": {
                "fill-color": "#e4dad9"
            }
        },
        {
            "id": "landuse_industrial",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "industrial"
                ]
            ],
            "paint": {
                "fill-color": "#d1dde1"
            }
        },
        {
            "id": "landuse_school",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "school",
                    "university",
                    "college"
                ]
            ],
            "paint": {
                "fill-color": "#e4ded7"
            }
        },
        {
            "id": "landuse_beach",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "beach"
                ]
            ],
            "paint": {
                "fill-color": "#e8e4d0"
            }
        },
        {
            "id": "landuse_zoo",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "zoo"
                ]
            ],
            "paint": {
                "fill-color": "#c6dcdc"
            }
        },
        {
            "id": "landuse_military",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "military",
                    "naval_base",
                    "airfield"
                ]
            ],
            "paint": {
                "fill-color": "#c6dcdc"
            }
        },
        {
            "id": "landuse_wood",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "wood",
                    "nature_reserve",
                    "forest"
                ]
            ],
            "paint": {
                "fill-color": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    0,
                    "#d0ded0",
                    12,
                    "#a0d9a0"
                ]
            }
        },
        {
            "id": "landuse_scrub",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "in",
                "kind",
                "scrub",
                "grassland",
                "grass"
            ],
            "paint": {
                "fill-color": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    0,
                    "#cedcd7",
                    12,
                    "#99d2bb"
                ]
            }
        },
        {
            "id": "landuse_glacier",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "==",
                "kind",
                "glacier"
            ],
            "paint": {
                "fill-color": "#e7e7e7"
            }
        },
        {
            "id": "landuse_sand",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "==",
                "kind",
                "sand"
            ],
            "paint": {
                "fill-color": "#e2e0d7"
            }
        },
        {
            "id": "landuse_aerodrome",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "aerodrome"
                ]
            ],
            "paint": {
                "fill-color": "#dadbdf"
            }
        },
        {
            "id": "transit_runway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "transit",
            "filter": [
                "any",
                [
                    "in",
                    "kind_detail",
                    "runway"
                ]
            ],
            "paint": {
                "line-color": "#e9e9ed",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    0,
                    12,
                    4,
                    18,
                    30
                ]
            }
        },
        {
            "id": "transit_taxiway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "transit",
            "minzoom": 13,
            "filter": [
                "any",
                [
                    "in",
                    "kind_detail",
                    "taxiway"
                ]
            ],
            "paint": {
                "line-color": "#e9e9ed",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    15,
                    6
                ]
            }
        },
        {
            "id": "water",
            "type": "fill",
            "filter": [
                "==",
                [
                    "geometry-type"
                ],
                "Polygon"
            ],
            "source": "protomaps",
            "source-layer": "water",
            "paint": {
                "fill-color": "#80deea"
            }
        },
        {
            "id": "water_stream",
            "type": "line",
            "source": "protomaps",
            "source-layer": "water",
            "minzoom": 14,
            "filter": [
                "in",
                "kind",
                "stream"
            ],
            "paint": {
                "line-color": "#80deea",
                "line-width": 0.5
            }
        },
        {
            "id": "water_river",
            "type": "line",
            "source": "protomaps",
            "source-layer": "water",
            "minzoom": 9,
            "filter": [
                "in",
                "kind",
                "river"
            ],
            "paint": {
                "line-color": "#80deea",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0,
                    9.5,
                    1,
                    18,
                    12
                ]
            }
        },
        {
            "id": "landuse_pedestrian",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "pedestrian"
                ]
            ],
            "paint": {
                "fill-color": "#e3e0d4"
            }
        },
        {
            "id": "landuse_pier",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "landuse",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "pier"
                ]
            ],
            "paint": {
                "fill-color": "#e0e0e0"
            }
        },
        {
            "id": "roads_tunnels_other_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "in",
                    "kind",
                    "other",
                    "path"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    14,
                    0,
                    20,
                    7
                ]
            }
        },
        {
            "id": "roads_tunnels_minor_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-dasharray": [
                    3,
                    2
                ],
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    12,
                    0,
                    12.5,
                    1
                ]
            }
        },
        {
            "id": "roads_tunnels_link_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-dasharray": [
                    3,
                    2
                ],
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    12,
                    0,
                    12.5,
                    1
                ]
            }
        },
        {
            "id": "roads_tunnels_medium_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-dasharray": [
                    3,
                    2
                ],
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    0.5,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    0,
                    10.5,
                    1
                ]
            }
        },
        {
            "id": "roads_tunnels_major_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-dasharray": [
                    3,
                    2
                ],
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    0.5,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0,
                    9.5,
                    1
                ]
            }
        },
        {
            "id": "roads_tunnels_highway_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-dasharray": [
                    6,
                    0.5
                ],
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    3.5,
                    0.5,
                    18,
                    15
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    1,
                    20,
                    15
                ]
            }
        },
        {
            "id": "roads_tunnels_other",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "in",
                    "kind",
                    "other",
                    "path"
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-dasharray": [
                    4.5,
                    0.5
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    14,
                    0,
                    20,
                    7
                ]
            }
        },
        {
            "id": "roads_tunnels_minor",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_tunnels_link",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_tunnels_medium",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    12,
                    1.2,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_tunnels_major",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    6,
                    0,
                    12,
                    1.6,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_tunnels_highway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "<",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#d5d5d5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    6,
                    1.1,
                    12,
                    1.6,
                    15,
                    5,
                    18,
                    15
                ]
            }
        },
        {
            "id": "buildings",
            "type": "fill",
            "source": "protomaps",
            "source-layer": "buildings",
            "paint": {
                "fill-color": "#cccccc",
                "fill-opacity": 0.5
            }
        },
        {
            "id": "transit_pier",
            "type": "line",
            "source": "protomaps",
            "source-layer": "transit",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "pier"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    12,
                    0,
                    12.5,
                    0.5,
                    20,
                    16
                ]
            }
        },
        {
            "id": "roads_minor_service_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ],
                [
                    "==",
                    "kind_detail",
                    "service"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    18,
                    8
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    0.8
                ]
            }
        },
        {
            "id": "roads_minor_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ],
                [
                    "!=",
                    "kind_detail",
                    "service"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    12,
                    0,
                    12.5,
                    1
                ]
            }
        },
        {
            "id": "roads_link_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1.5
                ]
            }
        },
        {
            "id": "roads_medium_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    12,
                    1.2,
                    15,
                    3,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    0,
                    10.5,
                    1.5
                ]
            }
        },
        {
            "id": "roads_major_casing_late",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    6,
                    0,
                    12,
                    1.6,
                    15,
                    3,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0,
                    9.5,
                    1
                ]
            }
        },
        {
            "id": "roads_highway_casing_late",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    3.5,
                    0.5,
                    18,
                    15
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    1,
                    20,
                    15
                ]
            }
        },
        {
            "id": "roads_other",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "in",
                    "kind",
                    "other",
                    "path"
                ]
            ],
            "paint": {
                "line-color": "#ebebeb",
                "line-dasharray": [
                    3,
                    1
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    14,
                    0,
                    20,
                    7
                ]
            }
        },
        {
            "id": "roads_link",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_minor_service",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ],
                [
                    "==",
                    "kind_detail",
                    "service"
                ]
            ],
            "paint": {
                "line-color": "#ebebeb",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    18,
                    8
                ]
            }
        },
        {
            "id": "roads_minor",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ],
                [
                    "!=",
                    "kind_detail",
                    "service"
                ]
            ],
            "paint": {
                "line-color": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    "#ebebeb",
                    16,
                    "#ffffff"
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_medium",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#f5f5f5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    12,
                    1.2,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_major_casing_early",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "maxzoom": 12,
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    0.5,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0,
                    9.5,
                    1
                ]
            }
        },
        {
            "id": "roads_major",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    6,
                    0,
                    12,
                    1.6,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_highway_casing_early",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "maxzoom": 12,
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    3.5,
                    0.5,
                    18,
                    15
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    1
                ]
            }
        },
        {
            "id": "roads_highway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    "==",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    6,
                    1.1,
                    12,
                    1.6,
                    15,
                    5,
                    18,
                    15
                ]
            }
        },
        {
            "id": "transit_railway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "transit",
            "filter": [
                "all",
                [
                    "==",
                    "kind",
                    "rail"
                ]
            ],
            "paint": {
                "line-dasharray": [
                    0.3,
                    0.75
                ],
                "line-opacity": 0.5,
                "line-color": "#a7b1b3",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    6,
                    0.15,
                    18,
                    9
                ]
            }
        },
        {
            "id": "boundaries_country",
            "type": "line",
            "source": "protomaps",
            "source-layer": "boundaries",
            "filter": [
                "<=",
                "min_admin_level",
                2
            ],
            "paint": {
                "line-color": "#adadad",
                "line-width": 1,
                "line-dasharray": [
                    3,
                    2
                ]
            }
        },
        {
            "id": "boundaries",
            "type": "line",
            "source": "protomaps",
            "source-layer": "boundaries",
            "filter": [
                ">",
                "min_admin_level",
                2
            ],
            "paint": {
                "line-color": "#adadad",
                "line-width": 0.5,
                "line-dasharray": [
                    3,
                    2
                ]
            }
        },
        {
            "id": "roads_bridges_other_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "in",
                    "kind",
                    "other",
                    "path"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    14,
                    0,
                    20,
                    7
                ]
            }
        },
        {
            "id": "roads_bridges_link_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    12,
                    0,
                    12.5,
                    1.5
                ]
            }
        },
        {
            "id": "roads_bridges_minor_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    0.8
                ]
            }
        },
        {
            "id": "roads_bridges_medium_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    12,
                    1.2,
                    15,
                    3,
                    18,
                    13
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    0,
                    10.5,
                    1.5
                ]
            }
        },
        {
            "id": "roads_bridges_major_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    0.5,
                    18,
                    10
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    9,
                    0,
                    9.5,
                    1.5
                ]
            }
        },
        {
            "id": "roads_bridges_other",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "in",
                    "kind",
                    "other",
                    "path"
                ]
            ],
            "paint": {
                "line-color": "#ebebeb",
                "line-dasharray": [
                    2,
                    1
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    14,
                    0,
                    20,
                    7
                ]
            }
        },
        {
            "id": "roads_bridges_minor",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "minor_road"
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    0,
                    12.5,
                    0.5,
                    15,
                    2,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_bridges_link",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    13,
                    0,
                    13.5,
                    1,
                    18,
                    11
                ]
            }
        },
        {
            "id": "roads_bridges_medium",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "medium_road"
                ]
            ],
            "paint": {
                "line-color": "#f0eded",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    12,
                    1.2,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_bridges_major",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "major_road"
                ]
            ],
            "paint": {
                "line-color": "#f5f5f5",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    6,
                    0,
                    12,
                    1.6,
                    15,
                    3,
                    18,
                    13
                ]
            }
        },
        {
            "id": "roads_bridges_highway_casing",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 12,
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#e0e0e0",
                "line-gap-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    3.5,
                    0.5,
                    18,
                    15
                ],
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    7,
                    0,
                    7.5,
                    1,
                    20,
                    15
                ]
            }
        },
        {
            "id": "roads_bridges_highway",
            "type": "line",
            "source": "protomaps",
            "source-layer": "roads",
            "filter": [
                "all",
                [
                    ">",
                    "level",
                    0
                ],
                [
                    "==",
                    "kind",
                    "highway"
                ],
                [
                    "!=",
                    "link",
                    1
                ]
            ],
            "paint": {
                "line-color": "#ffffff",
                "line-width": [
                    "interpolate",
                    [
                        "exponential",
                        1.6
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    6,
                    1.1,
                    12,
                    1.6,
                    15,
                    5,
                    18,
                    15
                ]
            }
        },
        {
            "id": "water_waterway_label",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "water",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "in",
                    "kind",
                    "river",
                    "stream"
                ]
            ],
            "layout": {
                "symbol-placement": "line",
                "text-font": [
                    "Noto Sans Regular"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": 12,
                "text-letter-spacing": 0.3
            },
            "paint": {
                "text-color": "#ffffff"
            }
        },
        {
            "id": "pois_peak",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "pois",
            "filter": [
                "any",
                [
                    "==",
                    "kind",
                    "peak"
                ]
            ],
            "layout": {
                "text-font": [
                    "Noto Sans Italic"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    10,
                    8,
                    16,
                    12
                ],
                "text-letter-spacing": 0.1,
                "text-max-width": 9
            },
            "paint": {
                "text-color": "#7e9aa0",
                "text-halo-width": 1.5
            }
        },
        {
            "id": "roads_labels_minor",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 15,
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "minor_road",
                    "other",
                    "path"
                ]
            ],
            "layout": {
                "symbol-sort-key": [
                    "get",
                    "min_zoom"
                ],
                "symbol-placement": "line",
                "text-font": [
                    "Noto Sans Regular"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": 12
            },
            "paint": {
                "text-color": "#91888b",
                "text-halo-color": "#ffffff",
                "text-halo-width": 2
            }
        },
        {
            "id": "water_label_ocean",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "water",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "sea",
                    "ocean",
                    "lake",
                    "water",
                    "bay",
                    "strait",
                    "fjord"
                ]
            ],
            "layout": {
                "text-font": [
                    "Noto Sans Medium"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    10,
                    10,
                    12
                ],
                "text-letter-spacing": 0.1,
                "text-max-width": 9,
                "text-transform": "uppercase"
            },
            "paint": {
                "text-color": "#ffffff"
            }
        },
        {
            "id": "water_label_lakes",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "water",
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "lake",
                    "water"
                ]
            ],
            "layout": {
                "text-font": [
                    "Noto Sans Medium"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    0,
                    6,
                    12,
                    10,
                    12
                ],
                "text-letter-spacing": 0.1,
                "text-max-width": 9
            },
            "paint": {
                "text-color": "#ffffff"
            }
        },
        {
            "id": "roads_labels_major",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "roads",
            "minzoom": 11,
            "filter": [
                "any",
                [
                    "in",
                    "kind",
                    "highway",
                    "major_road",
                    "medium_road"
                ]
            ],
            "layout": {
                "symbol-sort-key": [
                    "get",
                    "min_zoom"
                ],
                "symbol-placement": "line",
                "text-font": [
                    "Noto Sans Regular"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-size": 12
            },
            "paint": {
                "text-color": "#938a8d",
                "text-halo-color": "#ffffff",
                "text-halo-width": 2
            }
        },
        {
            "id": "places_subplace",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "places",
            "filter": [
                "==",
                "kind",
                "neighbourhood"
            ],
            "layout": {
                "symbol-sort-key": [
                    "get",
                    "min_zoom"
                ],
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-font": [
                    "Noto Sans Regular"
                ],
                "text-max-width": 7,
                "text-letter-spacing": 0.1,
                "text-padding": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    5,
                    2,
                    8,
                    4,
                    12,
                    18,
                    15,
                    20
                ],
                "text-size": [
                    "interpolate",
                    [
                        "exponential",
                        1.2
                    ],
                    [
                        "zoom"
                    ],
                    11,
                    8,
                    14,
                    14,
                    18,
                    24
                ],
                "text-transform": "uppercase"
            },
            "paint": {
                "text-color": "#8f8f8f",
                "text-halo-color": "#e0e0e0",
                "text-halo-width": 1.5
            }
        },
        {
            "id": "places_locality",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "places",
            "filter": [
                "==",
                "kind",
                "locality"
            ],
            "layout": {
                "icon-image": [
                    "step",
                    [
                        "zoom"
                    ],
                    "townspot",
                    8,
                    ""
                ],
                "icon-size": 0.7,
                "text-field": [
                    "case",
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "has",
                            "script"
                        ],
                        [
                            "case",
                            [
                                "any",
                                [
                                    "is-supported-script",
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "name:en"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "case",
                                    [
                                        "all",
                                        [
                                            "!",
                                            [
                                                "has",
                                                "name:en"
                                            ]
                                        ],
                                        [
                                            "has",
                                            "name:en"
                                        ],
                                        [
                                            "!",
                                            [
                                                "has",
                                                "script"
                                            ]
                                        ]
                                    ],
                                    "",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "get",
                                "name:en"
                            ]
                        ],
                        [
                            "format",
                            [
                                "coalesce",
                                [
                                    "get",
                                    "name:en"
                                ],
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {}
                        ]
                    ],
                    [
                        "all",
                        [
                            "any",
                            [
                                "has",
                                "name"
                            ],
                            [
                                "has",
                                "pgf:name"
                            ]
                        ],
                        [
                            "any",
                            [
                                "has",
                                "name2"
                            ],
                            [
                                "has",
                                "pgf:name2"
                            ]
                        ],
                        [
                            "!",
                            [
                                "any",
                                [
                                    "has",
                                    "name3"
                                ],
                                [
                                    "has",
                                    "pgf:name3"
                                ]
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ],
                    [
                        "case",
                        [
                            "all",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "has",
                                "script2"
                            ],
                            [
                                "has",
                                "script3"
                            ]
                        ],
                        [
                            "format",
                            [
                                "get",
                                "name:en"
                            ],
                            {},
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name"
                                ],
                                [
                                    "get",
                                    "name"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name2"
                                ],
                                [
                                    "get",
                                    "name2"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script2"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            },
                            "\n",
                            {},
                            [
                                "coalesce",
                                [
                                    "get",
                                    "pgf:name3"
                                ],
                                [
                                    "get",
                                    "name3"
                                ]
                            ],
                            {
                                "text-font": [
                                    "case",
                                    [
                                        "==",
                                        [
                                            "get",
                                            "script3"
                                        ],
                                        "Devanagari"
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Devanagari Regular v1"
                                        ]
                                    ],
                                    [
                                        "literal",
                                        [
                                            "Noto Sans Regular"
                                        ]
                                    ]
                                ]
                            }
                        ],
                        [
                            "case",
                            [
                                "!",
                                [
                                    "has",
                                    "script"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "!",
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ]
                        ]
                    ]
                ],
                "text-font": [
                    "case",
                    [
                        "<=",
                        [
                            "get",
                            "min_zoom"
                        ],
                        5
                    ],
                    [
                        "literal",
                        [
                            "Noto Sans Medium"
                        ]
                    ],
                    [
                        "literal",
                        [
                            "Noto Sans Regular"
                        ]
                    ]
                ],
                "text-padding": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    5,
                    3,
                    8,
                    7,
                    12,
                    11
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    2,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            13
                        ],
                        8,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            13
                        ],
                        13,
                        0
                    ],
                    4,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            13
                        ],
                        10,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            13
                        ],
                        15,
                        0
                    ],
                    6,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            12
                        ],
                        11,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            12
                        ],
                        17,
                        0
                    ],
                    8,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            11
                        ],
                        11,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            11
                        ],
                        18,
                        0
                    ],
                    10,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            9
                        ],
                        12,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            9
                        ],
                        20,
                        0
                    ],
                    15,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            8
                        ],
                        12,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            8
                        ],
                        22,
                        0
                    ]
                ],
                "icon-padding": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    0,
                    0,
                    8,
                    4,
                    10,
                    8,
                    12,
                    6,
                    22,
                    2
                ],
                "text-anchor": [
                    "step",
                    [
                        "zoom"
                    ],
                    "left",
                    8,
                    "center"
                ],
                "text-radial-offset": 0.4
            },
            "paint": {
                "text-color": "#5c5c5c",
                "text-halo-color": "#e0e0e0",
                "text-halo-width": 1
            }
        },
        {
            "id": "places_region",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "places",
            "filter": [
                "==",
                "kind",
                "region"
            ],
            "layout": {
                "symbol-sort-key": [
                    "get",
                    "min_zoom"
                ],
                "text-field": [
                    "step",
                    [
                        "zoom"
                    ],
                    [
                        "get",
                        "name:short"
                    ],
                    6,
                    [
                        "case",
                        [
                            "all",
                            [
                                "any",
                                [
                                    "has",
                                    "name"
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "!",
                                [
                                    "any",
                                    [
                                        "has",
                                        "name2"
                                    ],
                                    [
                                        "has",
                                        "pgf:name2"
                                    ]
                                ]
                            ],
                            [
                                "!",
                                [
                                    "any",
                                    [
                                        "has",
                                        "name3"
                                    ],
                                    [
                                        "has",
                                        "pgf:name3"
                                    ]
                                ]
                            ]
                        ],
                        [
                            "case",
                            [
                                "has",
                                "script"
                            ],
                            [
                                "case",
                                [
                                    "any",
                                    [
                                        "is-supported-script",
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    [
                                        "has",
                                        "pgf:name"
                                    ]
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "name:en"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "case",
                                        [
                                            "all",
                                            [
                                                "!",
                                                [
                                                    "has",
                                                    "name:en"
                                                ]
                                            ],
                                            [
                                                "has",
                                                "name:en"
                                            ],
                                            [
                                                "!",
                                                [
                                                    "has",
                                                    "script"
                                                ]
                                            ]
                                        ],
                                        "",
                                        [
                                            "coalesce",
                                            [
                                                "get",
                                                "pgf:name"
                                            ],
                                            [
                                                "get",
                                                "name"
                                            ]
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                [
                                    "get",
                                    "name:en"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "name:en"
                                    ],
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {}
                            ]
                        ],
                        [
                            "all",
                            [
                                "any",
                                [
                                    "has",
                                    "name"
                                ],
                                [
                                    "has",
                                    "pgf:name"
                                ]
                            ],
                            [
                                "any",
                                [
                                    "has",
                                    "name2"
                                ],
                                [
                                    "has",
                                    "pgf:name2"
                                ]
                            ],
                            [
                                "!",
                                [
                                    "any",
                                    [
                                        "has",
                                        "name3"
                                    ],
                                    [
                                        "has",
                                        "pgf:name3"
                                    ]
                                ]
                            ]
                        ],
                        [
                            "case",
                            [
                                "all",
                                [
                                    "has",
                                    "script"
                                ],
                                [
                                    "has",
                                    "script2"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "get",
                                    "name:en"
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "case",
                                [
                                    "has",
                                    "script2"
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name2"
                                        ],
                                        [
                                            "get",
                                            "name2"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script2"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "pgf:name2"
                                        ],
                                        [
                                            "get",
                                            "name2"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            ]
                        ],
                        [
                            "case",
                            [
                                "all",
                                [
                                    "has",
                                    "script"
                                ],
                                [
                                    "has",
                                    "script2"
                                ],
                                [
                                    "has",
                                    "script3"
                                ]
                            ],
                            [
                                "format",
                                [
                                    "get",
                                    "name:en"
                                ],
                                {},
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name"
                                    ],
                                    [
                                        "get",
                                        "name"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name2"
                                    ],
                                    [
                                        "get",
                                        "name2"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script2"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                },
                                "\n",
                                {},
                                [
                                    "coalesce",
                                    [
                                        "get",
                                        "pgf:name3"
                                    ],
                                    [
                                        "get",
                                        "name3"
                                    ]
                                ],
                                {
                                    "text-font": [
                                        "case",
                                        [
                                            "==",
                                            [
                                                "get",
                                                "script3"
                                            ],
                                            "Devanagari"
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Devanagari Regular v1"
                                            ]
                                        ],
                                        [
                                            "literal",
                                            [
                                                "Noto Sans Regular"
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            [
                                "case",
                                [
                                    "!",
                                    [
                                        "has",
                                        "script"
                                    ]
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name2"
                                        ],
                                        [
                                            "get",
                                            "name2"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script2"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    },
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name3"
                                        ],
                                        [
                                            "get",
                                            "name3"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script3"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                [
                                    "!",
                                    [
                                        "has",
                                        "script2"
                                    ]
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "pgf:name2"
                                        ],
                                        [
                                            "get",
                                            "name2"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    },
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name3"
                                        ],
                                        [
                                            "get",
                                            "name3"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script3"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                [
                                    "format",
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "name:en"
                                        ],
                                        [
                                            "get",
                                            "pgf:name3"
                                        ],
                                        [
                                            "get",
                                            "name3"
                                        ]
                                    ],
                                    {},
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name"
                                        ],
                                        [
                                            "get",
                                            "name"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    },
                                    "\n",
                                    {},
                                    [
                                        "coalesce",
                                        [
                                            "get",
                                            "pgf:name2"
                                        ],
                                        [
                                            "get",
                                            "name2"
                                        ]
                                    ],
                                    {
                                        "text-font": [
                                            "case",
                                            [
                                                "==",
                                                [
                                                    "get",
                                                    "script2"
                                                ],
                                                "Devanagari"
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Devanagari Regular v1"
                                                ]
                                            ],
                                            [
                                                "literal",
                                                [
                                                    "Noto Sans Regular"
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            ]
                        ]
                    ]
                ],
                "text-font": [
                    "Noto Sans Regular"
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    3,
                    11,
                    7,
                    16
                ],
                "text-radial-offset": 0.2,
                "text-anchor": "center",
                "text-transform": "uppercase"
            },
            "paint": {
                "text-color": "#b3b3b3",
                "text-halo-color": "#e0e0e0",
                "text-halo-width": 2
            }
        },
        {
            "id": "places_country",
            "type": "symbol",
            "source": "protomaps",
            "source-layer": "places",
            "filter": [
                "==",
                "kind",
                "country"
            ],
            "layout": {
                "symbol-sort-key": [
                    "get",
                    "min_zoom"
                ],
                "text-field": [
                    "format",
                    [
                        "coalesce",
                        [
                            "get",
                            "name:en"
                        ],
                        [
                            "get",
                            "name:en"
                        ]
                    ],
                    {}
                ],
                "text-font": [
                    "Noto Sans Medium"
                ],
                "text-size": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    2,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            10
                        ],
                        8,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            10
                        ],
                        12,
                        0
                    ],
                    6,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            8
                        ],
                        10,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            8
                        ],
                        18,
                        0
                    ],
                    8,
                    [
                        "case",
                        [
                            "<",
                            [
                                "get",
                                "population_rank"
                            ],
                            7
                        ],
                        11,
                        [
                            ">=",
                            [
                                "get",
                                "population_rank"
                            ],
                            7
                        ],
                        20,
                        0
                    ]
                ],
                "icon-padding": [
                    "interpolate",
                    [
                        "linear"
                    ],
                    [
                        "zoom"
                    ],
                    0,
                    2,
                    14,
                    2,
                    16,
                    20,
                    17,
                    2,
                    22,
                    2
                ],
                "text-transform": "uppercase"
            },
            "paint": {
                "text-color": "#a3a3a3"
            }
        }
    ],
      }
    });
    map.addControl(new maplibregl.ScaleControl({unit: 'imperial'}), 'bottom-right');
    map.addControl(new maplibregl.NavigationControl(), 'bottom-right');
    map.addControl(new maplibregl.FullscreenControl(), 'top-right');
  }

  for (i in ids) {

    var el = document.createElement('div');
    el.className = 'marker';
    el.innerHTML = '<span><b>' + num_machines[i] + '</b></span>';

    if (contents.length > 1) {
      (function (el, index) {
        var locationID = locationIDs[index];

        el.id = 'marker_' + locationID;
        el.style.cssText += 'z-index:' + num_machines[i];
        el.innerHTML = '<span><b>' + num_machines[i] + '</b></span>';
        el.addEventListener('touchstart', function () {
          showLocationDetail(locationID);
          showInfowindow(locationID);

          document.getElementById('location_detail_location_' + locationID).scrollIntoView(true);
          window.scrollBy(0, -140);
          el.preventDefault();
        });
        el.addEventListener('click', function () {
          showLocationDetail(locationID);

          document.getElementById('location_detail_location_' + locationID).scrollIntoView(true);
          window.scrollBy(0, -140);
        });
      })(el, i);
    }

    var popup = new maplibregl.Popup({ offset: 25 })
      .setHTML(contents[i]);

    var marker = new maplibregl.Marker({element: el}, { anchor: 'center' })
      .setLngLat([lons[i], lats[i]])
      .setPopup(popup)
      .addTo(map);

    markers.push(marker);
    bounds.extend([lons[i], lats[i]]);
  }

  if (mapAdjusted === 0) {
    if (contents.length === 1) {
      map.setZoom(18);
      map.setCenter([lons[0], lats[0]]);
      zoomCheck();
      if (document.getElementById("not_found")) {
        document.getElementById("not_found").style.display = "none";
      }
    } else if (contents.length == 0 && latLng.length === 1) {
      document.getElementById("map_canvas").innerHTML = "<p id='not_found' class='font28 red bold'>" + "NOT FOUND. PLEASE SEARCH AGAIN." + "<br />" + "Use the dropdown or the autocompleting textbox if you want results." + "</p>";
    } else if (contents.length == 0 && latLng.length === 2) {
      map.fitBounds(bounds, { padding: 50, animate: false });
      map.setZoom(18);
      zoomCheck();
      if (document.getElementById("not_found")) {
        document.getElementById("not_found").style.display = "none";
      }
    } else {
      map.fitBounds(bounds, { padding: 50, animate: false });
      zoomCheck();
      if (document.getElementById("not_found")) {
        document.getElementById("not_found").style.display = "none";
      }
    }
  }
}

function zoomCheck() {
  zoomLevel = map.getZoom();
  if (zoomLevel < 6) {
    document.getElementById("zoom_in_more").style.display = "block";
  } else {
    document.getElementById("zoom_in_more").style.display = "none";
  }
  mapAdjusted = 1;
  redo();
}

function storeMachineID() {
  searchMachineID = document.getElementById("by_machine_id").value;
  searchMachineIDString = searchMachineID ? ';by_machine_id=' + searchMachineID : ''
}

function redo() {
  var mapupdater;
  zoomLevel = map.getZoom();
  map.on('dragend', function () {
    zoomLevel = map.getZoom();
    if (zoomLevel < 6) {
      document.getElementById("zoom_in_more").style.display = "block";
      zoomLevel = map.getZoom();
    } else if ($("#followCheck").is(':checked')) {
      document.getElementById("zoom_in_more").style.display = "none";
      window.clearTimeout(mapupdater);
      mapupdater = window.setTimeout(function () {

        var bounds = map.getBounds();
        var sw = bounds.getSouthWest();
        var ne = bounds.getNorthEast();

        var dfd = $.getJSON('/api/v1/locations/within_bounding_box.json?no_details=1;swlat=' + sw.lat + ';swlon=' + sw.lng + ';nelat=' + ne.lat + ';nelon=' + ne.lng + searchMachineIDString + numMachinesVal + locationTypeVal);

        dfd.done(function (response) {
          if (!response.locations) {
            var locationIds = [];
            document.getElementById("locations").innerHTML = "<p id='not_found' class='font28 red bold'>" + "No pinball found in this area." + "</p>";
          } else {
            var locationIds = [];
            for (var i = 0; i < response.locations.length; i++) {
              locationIds.push(response.locations[i].id)
            }
            if (ismap == 1) {
              var url = '/locations?map_location_data=;by_location_id=' + locationIds.join('_');
            }
            else {
              var url = '/locations?region=' + region + '&by_location_id=' + locationIds.join('_');
            }

            document.getElementById('search_link_wrapper').style.display = "none";
            $('#locations').html(loadingHTML());
            $.get(url, function (data) {
              $('#locations').html(data);
            });
          }
        });
      }, REDO_TIMEOUT);
    }
  });

  map.on('zoomend', function () {
    zoomLevel = map.getZoom();
    if (zoomLevel < 6) {
      document.getElementById("zoom_in_more").style.display = "block";
      zoomLevel = map.getZoom();
    } else if (zoomLevel >= 6) {
      document.getElementById("zoom_in_more").style.display = "none";
      zoomLevel = map.getZoom();
    }
    if ($("#followCheck").is(':checked') && (zoomLevel >= 6)) {
      document.getElementById("zoom_in_more").style.display = "none";
      window.clearTimeout(mapupdater);
      mapupdater = window.setTimeout(function () {

        var bounds = map.getBounds();
        var sw = bounds.getSouthWest();
        var ne = bounds.getNorthEast();

        var dfd = $.getJSON('/api/v1/locations/within_bounding_box.json?no_details=1;swlat=' + sw.lat + ';swlon=' + sw.lng + ';nelat=' + ne.lat + ';nelon=' + ne.lng + searchMachineIDString + numMachinesVal + locationTypeVal);

        dfd.done(function (response) {
          if (!response.locations) {
            var locationIds = [];
            document.getElementById("locations").innerHTML = "<p id='not_found' class='font28 red bold'>" + "No pinball found in this area." + "</p>";
          } else {
            var locationIds = [];
            for (var i = 0; i < response.locations.length; i++) {
              locationIds.push(response.locations[i].id)
            }
            if (ismap == 1) {
              var url = '/locations?map_location_data=;by_location_id=' + locationIds.join('_');
            }
            else {
              var url = '/locations?region=' + region + '&by_location_id=' + locationIds.join('_');
            }

            document.getElementById('search_link_wrapper').style.display = "none";
            $('#locations').html(loadingHTML());
            $.get(url, function (data) {
              $('#locations').html(data);
            });
          }
        });
      }, REDO_TIMEOUT);
    }
  });
}

function scrollToMiddle(id) {
  var elem_position = $(id).offset().top;
  var window_height = $(window).height();
  var y = elem_position - window_height / 2;

  window.scrollTo(0, y);
}

function loadingHTML() {
  return "<div class='loading'><img src='<%= asset_path 'map_loading.gif' %>' /></div>";
}

function setOtherSearchOptions(newSection) {
  var html = "<span class='black_text'>Search:</span>";
  for (section in searchSections) {
    html += "  <button id='" + searchSections[section] + "_section_link' onclick='switchSection(\"" + searchSections[section] + "\");'>" + searchSections[section] + "</button>\n"
  }

  $('#other_search_options').html(html);
}

function switchSection(newSection) {
  setOtherSearchOptions(newSection);
  $("div .section:visible").hide();
  $('#by_' + newSection).toggle();
  $("#" + newSection + "_section_link").toggleClass("active_section_link");
}

function initSearch(userFaved, operatorIDs, locationIDs, locationTypeIDs, zoneIDs, machineIDs, machineID, ipdbIDs, opdbIDs, cityName, machineGroupId, showLocationDistance, lat, lon, byAtLeastMachines, byAtLeastNMachinesCity, byAtLeastNMachinesType, byAtLeastNMachinesZone, region) {
  if (userFaved || operatorIDs || locationIDs || zoneIDs || machineIDs || machineID || ipdbIDs || opdbIDs || cityName || machineGroupId || byAtLeastNMachinesCity || byAtLeastNMachinesType || byAtLeastNMachinesZone || region) {

    if (region && !(userFaved || operatorIDs || locationIDs || locationTypeIDs || zoneIDs || machineIDs || machineID || ipdbIDs || opdbIDs || cityName || machineGroupId || byAtLeastNMachinesCity || byAtLeastNMachinesType || byAtLeastNMachinesZone)) {
      return;
    }

    var url = '/locations?user_faved=' + userFaved + '&by_location_id=' + locationIDs + '&by_operator_id=' + operatorIDs + '&by_type_id=' + locationTypeIDs + '&by_zone_id=' + zoneIDs + '&by_machine_id=' + machineIDs + '&by_machine_single_id=' + machineID + '&by_city_id=' + cityName + '&by_machine_group_id=' + machineGroupId + '&by_ipdb_id=' + ipdbIDs + '&by_opdb_id=' + opdbIDs + '&show_location_distance=' + showLocationDistance + '&lat=' + lat + '&lon=' + lon + '&by_at_least_n_machines_city=' + byAtLeastNMachinesCity + '&by_at_least_n_machines_type=' + byAtLeastNMachinesType + '&by_at_least_n_machines_zone=' + byAtLeastNMachinesZone + '&region=' + region;

    $('#locations').html(loadingHTML());
    $.get(url, function (data) {
      $('#locations').html(data);
    });
  }
}

function findClosestLocations(region) {
  navigator.geolocation.getCurrentPosition(function (position) {
    var dfd = $.getJSON('/api/v1/locations/closest_by_lat_lon.json', { lat: position.coords.latitude, lon: position.coords.longitude, max_distance: 50, send_all_within_distance: 1 });
    dfd.done(function (response) {
      if (!response.locations) {
        var locationIds = [];
        document.getElementById("locations").innerHTML = "<p id='not_found' class='font28 red bold'>" + "No pinball found in this area." + "</p>";
      } else {
        var locationIds = [];
        for (var i = 0; i < response.locations.length; i++) {
          locationIds.push(response.locations[i].id)
        }

        var url = '/locations?show_location_distance=1&lat=' + position.coords.latitude + '&lon=' + position.coords.longitude + '&by_location_id=' + locationIds.join('_');

        $('#locations').html(loadingHTML());
        $.get(url, function (data) {
          $('#locations').html(data);
        });

      }
    });
  }, function () {
    // User has blocked access to their location or something else went wrong
  });
}

function showLocationDetail(locationID) {
  $('.location_detail_location').hide();

  if ($('#location_detail_location_' + locationID).is(":hidden")) {
    $('#show_location_detail_location_' + locationID).hide();
    $('.sub_nav_location').hide();
    $('.back_to_results').show();
    toggleData('location_detail_location', locationID);

    $('#location_detail_location_' + locationID).html(loadingHTML());
    $.get('/locations/' + locationID + '/render_location_detail', function (data) {
      $('#location_detail_location_' + locationID).html(data);
    });
  }
}

function showInfowindow(locationID) {
  var index = jQuery.inArray(locationID, locationIDs);
  clearInfoWindows();
  markers[index].togglePopup();
}

function backToResults() {
  $('.back_to_results').hide();
  $('.sub_nav_location').show("slide", { direction: "left" }, 400);
  $('.location_detail_location').hide();
}

function showSearchModal() {
  $('#form_container').show(400);
}

function hideSearchModal() {
  if ($('.search_modal').css('display') == 'block') {
    $('#form_container').hide(400);
  }
}

function setRegion(regionName) {
  region = regionName;
}

function setSearchSections(newSearchSections) {
  searchSections = newSearchSections;
}

function updateLocationUpdatedText(id) {
  $('#last_updated_location_' + id).load('/locations/' + id + '/render_last_updated');
  $('#stale_' + id).hide();
  return false;
}

var fade_flash = function () {
  $("#flash_notice").delay(2400).fadeOut("slow");
  $("#flash_alert").delay(2400).fadeOut("slow");
  $("#flash_error").delay(2400).fadeOut("slow");
};
fade_flash();

var show_ajax_message = function (msg, type) {
  $("#flash-message").html('<div id="flash_' + type + '">' + msg + '</div>');
  fade_flash();
};

function show_new_machine_message() {
  alert('Please choose a machine from the list. If the machine is not in the list, it is likely a game (e.g., a non-pinball game) that we do not include on Pinball Map. If you think the list is missing a pinball machine, please contact us.');
};
